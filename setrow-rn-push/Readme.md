# API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [SetrowRNPush](#setrowrnpush)
    -   [init](#init)
        -   [Parameters](#parameters)
    -   [setEmail](#setemail)
        -   [Parameters](#parameters-1)
    -   [setCallback](#setcallback)
        -   [Parameters](#parameters-2)
    -   [validateEmail](#validateemail)
        -   [Parameters](#parameters-3)
    -   [requestPermissionAndGetToken](#requestpermissionandgettoken)
    -   [checkPermission](#checkpermission)
    -   [requestPermission](#requestpermission)
    -   [getToken](#gettoken)
    -   [checkExternalStoragePermission](#checkexternalstoragepermission)
    -   [sendRequest](#sendrequest)
        -   [Parameters](#parameters-4)
    -   [requestFCMEndpoint](#requestfcmendpoint)
        -   [Parameters](#parameters-5)
    -   [getDeviceInfo](#getdeviceinfo)
    -   [displayLocalNotification](#displaylocalnotification)
        -   [Parameters](#parameters-6)
    -   [unsubscribe](#unsubscribe)
    -   [checkIfSubscribed](#checkifsubscribed)
    -   [goToNotificationSettings](#gotonotificationsettings)
    -   [createListeners](#createlisteners)
-   [backgroundMessaging](#backgroundmessaging)
    -   [Parameters](#parameters-7)

## SetrowRNPush

React Native Push Notification Service for Setrow Customers

### init

Initiate Push Notification Service

#### Parameters

-   `config`  {object} Config object
    -   `config.apiKey`  {String} Your Setrow API Key
    -   `config.userEmail`  {String} Device user's email (optional, default `''`)
    -   `config.bundleId`  {String} Your iOS Bundle ID (optional, default `''`)
    -   `config.callbackAfterTap`  {function} The callback to run after notification tap (optional, default `function(){}`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;R>** 

### setEmail

Set email for current user

#### Parameters

-   `email`  {string} Email

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;R>** 

### setCallback

Set callback to run after notification tappings

#### Parameters

-   `callback`  {function}

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;R>** 

### validateEmail

Validate email

#### Parameters

-   `email`  {string} Email

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

### requestPermissionAndGetToken

Subscribe the user. Request permission for notifications and get FCM Token as promise resolves.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** Resolves with FCM Token

### checkPermission

Check whether the user has permission for notifications or not.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** 

### requestPermission

Request permission for notifications

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** 

### getToken

Retrieve FCM token for current subscription. Note that this function should be called after permission request

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;R>** Resolves with FCM Token on success

### checkExternalStoragePermission

Check the permission for external storage access

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** 

### sendRequest

Make request to a URL specified

#### Parameters

-   `url`  {string}
-   `headers`  {Object}
-   `body`  {Object}
-   `method`  {string} (optional, default `'POST'`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;R>** 

### requestFCMEndpoint

Send notification to user.

#### Parameters

-   `appServerKey`  {string} Firebase Server Key
-   `data`  {Object} Check <https://firebase.google.com/docs/cloud-messaging/http-server-ref> for more.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;R>** 

### getDeviceInfo

Get device information

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;R>** Resolves with device info object

### displayLocalNotification

Display notification. For Android, dataOnly value must be set to true.

#### Parameters

-   `notification` **[Notification](https://developer.mozilla.org/docs/Web/API/Notification/Using_Web_Notifications)** {Notification}
-   `dataOnly`  {boolean} (optional, default `false`)

### unsubscribe

Unsubscribe the user

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;R>** 

### checkIfSubscribed

Check if the user is subscribed or not

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

### goToNotificationSettings

iOS Only! - Open notification settings for the app. BundleID should be set first.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;void>** 

### createListeners

Create the event-listeners to handle notification displays/taps

## backgroundMessaging

Background Messaging Task

### Parameters

-   `message` **RemoteMessage** {RemoteMessage} FCM message

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;resolve>** 
